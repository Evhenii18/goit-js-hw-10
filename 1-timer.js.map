{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst startBtn = document.querySelector('button[data-start]');\nconst daysValue = document.querySelector('span[data-days]');\nconst hoursValue = document.querySelector('span[data-hours]');\nconst minutesValue = document.querySelector('span[data-minutes]');\nconst secondsValue = document.querySelector('span[data-seconds]');\nconst datePicker = document.querySelector('#datetime-picker');\n\nlet userSelectedDate = null;\nlet intervalId = null;\n\nconst options = {\n\tenableTime: true,\n\ttime_24hr: true,\n\tdefaultDate: new Date(),\n\tminuteIncrement: 1,\n\tonClose(selectedDates) {\n\t\tconst selectedDate = selectedDates[0];\n\n\t\tif (selectedDate <= new Date()) {\n\t\t\tiziToast.error({ title: 'Error', message: 'Please choose a date in the future' });\n\t\t\tstartBtn.disabled = true;\n\t\t} else {\n\t\t\tuserSelectedDate = selectedDate;\n\t\t\tstartBtn.disabled = false;\n\t\t}\n\t}\n};\n\nflatpickr(datePicker, options);\n\n// Обробка кліку на кнопку \"Start\"\nstartBtn.addEventListener('click', startCountdown);\n\nfunction startCountdown() {\n\tstartBtn.disabled = true;\n\tdatePicker.disabled = true;\n\n\tintervalId = setInterval(() => {\n\t\tconst currentTime = new Date();\n\t\tconst timeDifference = userSelectedDate - currentTime;\n\n\t\tif (timeDifference <= 0) {\n\t\t\tclearInterval(intervalId);\n\t\t\tiziToast.success({ title: 'Success', message: 'Countdown finished!' });\n\t\t\tresetTimer();\n\t\t\treturn;\n\t\t}\n\n\t\tconst timeData = convertMs(timeDifference);\n\t\tupdateTimerUI(timeData);\n\t}, 1000);\n}\n\n// Оновлення інтерфейсу таймера\nfunction updateTimerUI({ days, hours, minutes, seconds }) {\n\tdaysValue.textContent = addLeadingZero(days);\n\thoursValue.textContent = addLeadingZero(hours);\n\tminutesValue.textContent = addLeadingZero(minutes);\n\tsecondsValue.textContent = addLeadingZero(seconds);\n}\n\n// Додавання 0 до значень менше 10\nfunction addLeadingZero(value) {\n\treturn String(value).padStart(2, '0');\n}\n\n// Функція для конвертації мілісекунд\nfunction convertMs(ms) {\n\tconst second = 1000;\n\tconst minute = second * 60;\n\tconst hour = minute * 60;\n\tconst day = hour * 24;\n\n\tconst days = Math.floor(ms / day);\n\tconst hours = Math.floor((ms % day) / hour);\n\tconst minutes = Math.floor(((ms % day) % hour) / minute);\n\tconst seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n\treturn { days, hours, minutes, seconds };\n}\n\n// Скидання таймера\nfunction resetTimer() {\n\tstartBtn.disabled = true;\n\tdatePicker.disabled = false;\n\tdaysValue.textContent = '00';\n\thoursValue.textContent = '00';\n\tminutesValue.textContent = '00';\n\tsecondsValue.textContent = '00';\n}\n"],"names":["startBtn","daysValue","hoursValue","minutesValue","secondsValue","datePicker","userSelectedDate","intervalId","options","selectedDates","selectedDate","iziToast","flatpickr","startCountdown","timeDifference","resetTimer","timeData","convertMs","updateTimerUI","days","hours","minutes","seconds","addLeadingZero","value","ms"],"mappings":"2FAMA,MAAMA,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAY,SAAS,cAAc,iBAAiB,EACpDC,EAAa,SAAS,cAAc,kBAAkB,EACtDC,EAAe,SAAS,cAAc,oBAAoB,EAC1DC,EAAe,SAAS,cAAc,oBAAoB,EAC1DC,EAAa,SAAS,cAAc,kBAAkB,EAE5D,IAAIC,EAAmB,KACnBC,EAAa,KAEjB,MAAMC,EAAU,CACf,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACtB,MAAMC,EAAeD,EAAc,CAAC,EAEhCC,GAAgB,IAAI,MACvBC,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,oCAAoC,CAAE,EAChFX,EAAS,SAAW,KAEpBM,EAAmBI,EACnBV,EAAS,SAAW,GAErB,CACF,EAEAY,EAAUP,EAAYG,CAAO,EAG7BR,EAAS,iBAAiB,QAASa,CAAc,EAEjD,SAASA,GAAiB,CACzBb,EAAS,SAAW,GACpBK,EAAW,SAAW,GAEtBE,EAAa,YAAY,IAAM,CAE9B,MAAMO,EAAiBR,EADH,IAAI,KAGxB,GAAIQ,GAAkB,EAAG,CACxB,cAAcP,CAAU,EACxBI,EAAS,QAAQ,CAAE,MAAO,UAAW,QAAS,qBAAqB,CAAE,EACrEI,IACA,MACA,CAED,MAAMC,EAAWC,EAAUH,CAAc,EACzCI,EAAcF,CAAQ,CACtB,EAAE,GAAI,CACR,CAGA,SAASE,EAAc,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CACzDrB,EAAU,YAAcsB,EAAeJ,CAAI,EAC3CjB,EAAW,YAAcqB,EAAeH,CAAK,EAC7CjB,EAAa,YAAcoB,EAAeF,CAAO,EACjDjB,EAAa,YAAcmB,EAAeD,CAAO,CAClD,CAGA,SAASC,EAAeC,EAAO,CAC9B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACrC,CAGA,SAASP,EAAUQ,EAAI,CAMtB,MAAMN,EAAO,KAAK,MAAMM,EAAK,KAAG,EAC1BL,EAAQ,KAAK,MAAOK,EAAK,MAAO,IAAI,EACpCJ,EAAU,KAAK,MAAQI,EAAK,MAAO,KAAQ,GAAM,EACjDH,EAAU,KAAK,MAASG,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAN,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAGA,SAASP,GAAa,CACrBf,EAAS,SAAW,GACpBK,EAAW,SAAW,GACtBJ,EAAU,YAAc,KACxBC,EAAW,YAAc,KACzBC,EAAa,YAAc,KAC3BC,EAAa,YAAc,IAC5B"}